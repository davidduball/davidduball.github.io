<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Golf Tournament Entry Form</title>
    <link rel="stylesheet" href="styles.css" />
</head>
<body>
    <header>
        <h1>Submit Your Golf Tournament Entry</h1>
    </header>

    <form name="golf-form" method="POST" data-netlify="true" onsubmit="submitForm(event)">
        <div id="questions"></div>
        <button type="submit">Submit</button>
    </form>

    <script>
        // Your JSON data
        const questionData = [
            {
                "category": "Choose 1",
                "instruction": "Pick 1 golfer from this group.",
                "players": [
                    { "name": "Scottie Scheffler", "odds": "+350" },
                    { "name": "Rory McIlroy", "odds": "+650" }
                ]
            },
            {
                "category": "Choose 2",
                "instruction": "Pick 2 golfers from this group.",
                "players": [
                    { "name": "Hideki Matsuyama", "odds": "+2800" },
                    { "name": "Brooks Koepka", "odds": "+2800" }
                ]
            }
            // Add the rest of your categories and players here.
        ];

        // Function to render the questions dynamically
        function renderQuestions() {
            const questionsContainer = document.getElementById('questions');
            
            questionData.forEach((categoryData, index) => {
                // Create a fieldset for each category
                const fieldset = document.createElement('fieldset');
                const legend = document.createElement('legend');
                legend.textContent = categoryData.category;
                fieldset.appendChild(legend);

                // Add instruction for each category
                const instruction = document.createElement('p');
                instruction.textContent = categoryData.instruction;
                fieldset.appendChild(instruction);

                // Create radio buttons for each player
                categoryData.players.forEach(player => {
                    const div = document.createElement('div');
                    const input = document.createElement('input');
                    input.type = 'radio';
                    input.id = player.name;
                    input.name = `question${index + 1}`;  // Each question needs a unique name for radio buttons
                    input.value = player.name;
                    const label = document.createElement('label');
                    label.setAttribute('for', player.name);
                    label.textContent = `${player.name} (${player.odds})`;

                    div.appendChild(input);
                    div.appendChild(label);
                    fieldset.appendChild(div);
                });

                // Append the category fieldset to the questions container
                questionsContainer.appendChild(fieldset);
            });
        }

        // Call the renderQuestions function when the page loads
        window.onload = renderQuestions;

        // Function to handle form submission (you may need to modify this as per your backend or Netlify)
        async function submitForm(event) {
            event.preventDefault();  // Prevent form from submitting the traditional way

            const formData = new FormData(event.target);
            const data = {
                name: formData.get('name'),
                team: formData.get('team'),
                // Add more fields as necessary
            };

            // You can process the form data or send it to your server
            console.log(data);
        }
    </script>
</body>
</html>
