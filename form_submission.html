<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Golf Tournament Entry Form</title>
    <link rel="stylesheet" href="styles.css" />
</head>
<body>
    <header>
        <h1>Submit Your Golf Tournament Entry</h1>
    </header>

    <form name="golf-form" method="POST" data-netlify="true" onsubmit="submitForm(event)">
        <!-- Input fields for name and team -->
        <div>
            <label for="name">Your Name:</label>
            <input type="text" id="name" name="name" required />
        </div>
        <div>
            <label for="team">Team Name:</label>
            <input type="text" id="team" name="team" required />
        </div>

        <div id="questions"></div>
        <button type="submit">Submit</button>
    </form>

    <script>
        // Your JSON data
        const questionData = [

{
  "category": "Choose 1",
  "instruction": "Pick 1 golfer from this group.",
  "players": [
    { "name": "Scottie Scheffler", "odds": "+350" },
    { "name": "Rory McIlroy", "odds": "+650" }
  ]
},
{
  "category": "Choose 1",
  "instruction": "Pick 1 golfer from this group.",
  "players": [
    { "name": "Jon Rahm", "odds": "+1300" },
    { "name": "Ludvig Åberg", "odds": "+1600" },
    { "name": "Xander Schauffele", "odds": "+1800" },
    { "name": "Collin Morikawa", "odds": "+1800" },
    { "name": "Bryson DeChambeau", "odds": "+2000" },
    { "name": "Justin Thomas", "odds": "+2200" }
  ]
},
{
  "category": "Choose 2",
  "instruction": "Pick 2 golfers from this group.",
  "players": [
    { "name": "Hideki Matsuyama", "odds": "+2800" },
    { "name": "Brooks Koepka", "odds": "+2800" },
    { "name": "Joaquin Niemann", "odds": "+2800" },
    { "name": "Jordan Spieth", "odds": "+3000" },
    { "name": "Tommy Fleetwood", "odds": "+3500" },
    { "name": "Tyrrell Hatton", "odds": "+3500" },
    { "name": "Viktor Hovland", "odds": "+3500" },
    { "name": "Patrick Cantlay", "odds": "+4000" },
    { "name": "Will Zalatoris", "odds": "+4500" },
    { "name": "Shane Lowry", "odds": "+4500" },
    { "name": "Cameron Smith", "odds": "+5000" },
    { "name": "Min Woo Lee", "odds": "+5500" },
    { "name": "Russell Henley", "odds": "+5500" },
    { "name": "Robert MacIntyre", "odds": "+6000" },
    { "name": "Sergio Garcia", "odds": "+6500" },
    { "name": "Akshay Bhatia", "odds": "+6500" }
    { "name": "Tony Finau", "odds": "+7000" },
    { "name": "Corey Conners", "odds": "+7000" },
    { "name": "Sepp Straka", "odds": "+7500" },
    { "name": "Jason Day", "odds": "+7500" },
    { "name": "Wyndham Clark", "odds": "+8000" },
    { "name": "Sam Burns", "odds": "+9000" },
    { "name": "Tom Kim", "odds": "+9000" }
  ]
},
{
  "category": "Choose 1",
  "instruction": "Pick 1 golfer from this group.",
  "players": [
    { "name": "Dustin Johnson", "odds": "+10000" },
    { "name": "Patrick Reed", "odds": "+10000" },
    { "name": "Keegan Bradley", "odds": "+10000" },
    { "name": "Sahith Theegala", "odds": "+10000" },
    { "name": "Sungjae Im", "odds": "+10000" },
    { "name": "Denny McCarthy", "odds": "+10000" },
    { "name": "Daniel Berger", "odds": "+10000" },
    { "name": "Brian Harman", "odds": "+18000" },
    { "name": "Adam Scott", "odds": "+11000" }
    { "name": "Justin Rose", "odds": "+11000" },
    { "name": "Davis Thompson", "odds": "+11000" },
    { "name": "Aaron Rai", "odds": "+11000" },
    { "name": "Byeong-Hun An", "odds": "+12000" },
    { "name": "Lucas Glover", "odds": "+12000" },
    { "name": "Matt Fitzpatrick", "odds": "+13000" },
    { "name": "Taylor Pendrith", "odds": "+13000" },
    { "name": "Michael Kim", "odds": "+13000" },
    { "name": "J.J. Spaun", "odds": "+13000" },
    { "name": "Thomas Detry", "odds": "+15000" },
    { "name": "Maverick McNealy", "odds": "+15000" },
    { "name": "Billy Horschel", "odds": "+17000" },
    { "name": "Rasmus Højgaard", "odds": "+17000" },
    { "name": "Laurie Canter", "odds": "+17000" },
    { "name": "Nicolai Højgaard", "odds": "+17000" },
    { "name": "Harris English", "odds": "+18000" },
    { "name": "Stephan Jaeger", "odds": "+18000" },
  ]
},
{
  "category": "Choose 1",
  "instruction": "Pick 1 golfer from this group.",
  "players": [
    { "name": "Phil Mickelson", "odds": "+20000" },
    { "name": "Cameron Young", "odds": "+20000" },
    { "name": "Max Homa", "odds": "+20000" },
    { "name": "J.T. Poston", "odds": "+20000" },
    { "name": "Nick Taylor", "odds": "+20000" },
    { "name": "Max Greyserman", "odds": "+20000" },
    { "name": "Cam Davis", "odds": "+25000" },
    { "name": "Joe Highsmith", "odds": "+25000" },
    { "name": "Christiaan Bezuidenhout", "odds": "+25000" },
    { "name": "Chris Kirk", "odds": "+25000" },
    { "name": "Nico Echavarria", "odds": "+30000" },
    { "name": "Austin Eckroat", "odds": "+30000" },
    { "name": "Kevin Yu", "odds": "+30000" },
    { "name": "Nick Dunlap", "odds": "+30000" },
    { "name": "Tom Hoge", "odds": "+30000" },
    { "name": "Thriston Lawrence", "odds": "+40000" },
    { "name": "Matt McCarty", "odds": "+40000" },
    { "name": "Jhonattan Vegas", "odds": "+40000" },
  ]
},
{
  "category": "Choose 1",
  "instruction": "Pick 1 golfer from this group.",
  "players": [
    { "name": "Bubba Watson", "odds": "+50000" },
    { "name": "Danny Willett", "odds": "+50000" }
    { "name": "Charl Schwartzel", "odds": "+50000" },
    { "name": "Jose Luis Ballester (a)", "odds": "+50000" },
    { "name": "Hiroshi Tai (a)", "odds": "+50000" },
    { "name": "Matthieu Pavon", "odds": "+50000" },
    { "name": "Brian Campbell", "odds": "+50000" },
    { "name": "Adam Schenk", "odds": "+55000" },
    { "name": "Patton Kizzire", "odds": "+60000" },
    { "name": "Davis Riley", "odds": "+60000" },
    { "name": "Noah Kent (a)", "odds": "+70000" },
    { "name": "Zach Johnson", "odds": "+80000" },
    { "name": "Bernhard Langer", "odds": "+80000" },
    { "name": "Justin Hastings (a)", "odds": "+80000" },
    { "name": "Evan Beck (a)", "odds": "+100000" },
    { "name": "Rafael Campos", "odds": "+100000" },
    { "name": "Angel Cabrera", "odds": "+200000" },
    { "name": "Fred Couples", "odds": "+200000" },
    { "name": "Jose Maria Olazabal", "odds": "+200000" },
    { "name": "Vijay Singh", "odds": "+200000" },
    { "name": "Mike Weir", "odds": "+200000" }
  ]    
            },
            // ... (Other categories here)
        ];

        // Function to render the questions dynamically
        function renderQuestions() {
            const questionsContainer = document.getElementById('questions');
            
            questionData.forEach((categoryData, index) => {
                // Create a fieldset for each category
                const fieldset = document.createElement('fieldset');
                const legend = document.createElement('legend');
                legend.textContent = categoryData.category;
                fieldset.appendChild(legend);

                // Add instruction for each category
                const instruction = document.createElement('p');
                instruction.textContent = categoryData.instruction;
                fieldset.appendChild(instruction);

                // Create radio buttons for each player
                categoryData.players.forEach(player => {
                    const div = document.createElement('div');
                    const input = document.createElement('input');
                    input.type = 'radio';
                    input.id = player.name;
                    input.name = `question${index + 1}`;  // Each question needs a unique name for radio buttons
                    input.value = player.name;
                    const label = document.createElement('label');
                    label.setAttribute('for', player.name);
                    label.textContent = `${player.name} (${player.odds})`;

                    div.appendChild(input);
                    div.appendChild(label);
                    fieldset.appendChild(div);
                });

                // Append the category fieldset to the questions container
                questionsContainer.appendChild(fieldset);
            });
        }

        // Call the renderQuestions function when the page loads
        window.onload = renderQuestions;

        // Function to handle form submission
        async function submitForm(event) {
            event.preventDefault();  // Prevent form from submitting the traditional way

            const formData = new FormData(event.target);
            const data = {
                name: formData.get('name'),
                team: formData.get('team'),
                selectedGolfers: []
            };

            // Collect selected golfers from the radio buttons
            questionData.forEach((categoryData, index) => {
                const selectedPlayer = formData.get(`question${index + 1}`);
                if (selectedPlayer) {
                    data.selectedGolfers.push(selectedPlayer);
                }
            });

            // Log the collected data to the console
            console.log(data);
        }
    </script>
</body>
</html>
